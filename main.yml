# This should be your Ansible playbooks to provision your containers.
# An inventory will be automatically created using the names of the services
# from your container.yml file.
# Add any roles or other modules you'll need to this directory too.
# For many examples of roles, check out Ansible Galaxy: https://galaxy.ansible.com/
#
#
# - hosts: plex
#   connection: local
#   tasks:
#     - debug: 'msg={{ lookup("pipe","ping -c 5 " + inventory_hostname ) }}'


- hosts: all
  gather_facts: false
  tasks:
    - raw: which python || apt-get update
    - raw: (which python && which aptitude ) || apt-get install -y python python-apt aptitude
    - raw: (which pip) | apt-get install -y python-pip


- hosts: plex
  roles:
    - plex

- hosts: transmission
  roles:
    - transmission
